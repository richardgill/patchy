// See the comment on `.joist/pipelines/check.pkl` for information about `amends`
amends "https://joist.fsn1.your-objectstorage.com/pkl/Config.pkl"

// RunFrom determines whether this pipeline should run from local or from remote.
// When set to local, it allows `local` users to complete it's pipeline. If `remote`,
// the pipeline needs to be executed from a `remote` server [not yet available].
// This is an example of using a conditional in Pkl.
// `env.BranchName` is set by `Environment.pkl` (check pkl/Environment.pkl above), which is imported by `Config.pkl`.
RunFrom = if (env.BranchName == "main") "remote" else "local"

// Version determines which Joist version this file and the pipelines are written for.
Version = "0.0.1"

// API Key is your API key; here's how it can be used to read from your shell's env. You're also welcome
// to hard code this value (`ApiKey = "foo"`). As long as `ApiKey` exists, Joist will use it.
ApiKey = read("env:JOIST_API_KEY")

// Repo is used to determine which repository you're actively working on. This needs to be filled in order
// to match with the webhooks Github sends to Joist. Additionally, you need to ensure that the repository
// is added to your user on https://joist.dev/
Repo {
    Owner = "richardgill"
    Name = "patchy"
    Provider = "github"
}
